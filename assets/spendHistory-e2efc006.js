import{_ as ve}from"./c_header-66e0b60c.js";import{d as be,a as ke,h as xe,_ as $e,i as oe,r as z,l as $,x as D,z as N,B as c,s as S,u as o,F as j,A as T,E as K,I as we,y as d,q as Q,C as R,G as De,H as Ne}from"./index-74a9a88b.js";import{d as Be,j as de,q as Fe,G as Se,H as qe,J as se,F as G}from"./Button-3f7cf783.js";import{f as Me,h as Ce}from"./fade-in-scale-up.cssr-436bb415.js";import{N as ie}from"./Select-40482e71.js";import{N as X}from"./Divider-c138320a.js";import{N as ze}from"./Scrollbar-d3d499b7.js";const Re={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},Pe=()=>Re,Ye={name:"Flex",self:Pe},Ee=Ye,Ie=Object.assign(Object.assign({},de.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrap:{type:Boolean,default:!0}}),ue=be({name:"Flex",props:Ie,setup(x){const{mergedClsPrefixRef:k,mergedRtlRef:n}=Be(x),g=de("Flex","-flex",void 0,Ee,x,k);return{rtlEnabled:Fe("Flex",n,k),mergedClsPrefix:k,margin:ke(()=>{const{size:e}=x;if(Array.isArray(e))return{horizontal:e[0],vertical:e[1]};if(typeof e=="number")return{horizontal:e,vertical:e};const{self:{[Se("gap",e)]:_}}=g.value,{row:p,col:u}=qe(_);return{horizontal:se(u),vertical:se(p)}})}},render(){const{vertical:x,reverse:k,align:n,inline:g,justify:i,margin:e,wrap:_,mergedClsPrefix:p,rtlEnabled:u}=this,B=Me(Ce(this),!1);return B.length?xe("div",{role:"none",class:[`${p}-flex`,u&&`${p}-flex--rtl`],style:{display:g?"inline-flex":"flex",flexDirection:(()=>x&&!k?"column":x&&k?"column-reverse":!x&&k?"row-reverse":"row")(),justifyContent:i,flexWrap:!_||x?"nowrap":"wrap",alignItems:n,gap:`${e.vertical}px ${e.horizontal}px`}},B):null}});const O=x=>(De("data-v-61297f92"),x=x(),Ne(),x),je=O(()=>c("span",{class:"dropdownTitle"},"View: ",-1)),Te={style:{width:"30%","margin-top":"10px","padding-bottom":"10px"}},Ge=O(()=>c("span",{class:"dropdownTitle"},"Group By: ",-1)),Oe={style:{width:"27%","margin-top":"10px","padding-bottom":"10px"}},Ve=["onClick"],We={id:"itm_id"},He={id:"itm_name"},Ae={id:"itm_cls"},Le={id:"itm_amt"},Je={id:"itm_dte"},Ue={key:1},Ke=O(()=>c("h2",{style:{"text-align":"center",color:"gray"}},"NO SPENDING FOUND",-1)),Qe=[Ke],Xe={id:"itm_id"},Ze={id:"itm_name"},et={id:"itm_cls"},tt={id:"itm_amt"},at={id:"itm_dte"},lt={id:"itm_id"},rt={id:"itm_name"},nt={id:"itm_cls"},ot={id:"itm_amt"},st={style:{display:"none"}},it={key:1},ut=O(()=>c("h2",{style:{"text-align":"center",color:"gray"}},"NO SPENDING FOUND",-1)),dt=[ut],ft={__name:"spendHistory",setup(x){const k=oe("$globaldata"),n=oe("$data");let g=0,i=[],e=[[],[],[]],_=[],p=[],u=[0,0,0],B=[0,0,0],q=0,Z=0,ee=0,v=z(0),m=z(k.groupBy_opt),y=z(k.view_opt),f=z(k.catagory_actv),P=z(["#444444","#01700c"]),s=new Date(Date.now()),V=0,W=0,H=0,A=0;const Y=["Jan","Feb","Mar","Aprl","May","June","July","Aug","Sept","Oct","Nov","Dec"],fe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];e[0][0]=n.required.length,e[1][0]=n.needs.length,e[2][0]=n.wants.length;let te=n.base.length;for(let l=0;l<=e[0][0]-1;l++)e[0].push(n.required[l].track.length);for(let l=0;l<=e[1][0]-1;l++)e[1].push(n.needs[l].track.length);for(let l=0;l<=e[2][0]-1;l++)e[2].push(n.wants[l].track.length);function E(l){let a=!1,t=!1,h=!1,w=!1,b=!1;console.log("rendering");let M=n.history.day[0].date.split("-"),C=Date.parse(`${M[2]}/${M[1]}/${M[0]}`);for(;a!=!0;){if(H!=e[2][0]&&w==!1)for(let r=0;r<=e[2][0]-1;r++)for(;;){if(e[2][e[2][0]-r]<=0){e[2][e[2][0]-r]==0&&(H=H+1,e[2][e[2][0]-r]=-1);break}else if(console.log(`${s.getDate()}-${s.getMonth()+1}-${s.getFullYear()}`),n.wants[e[2][0]-1-r].track[e[2][e[2][0]-r]-1].date==`${s.getDate()}-${s.getMonth()+1}-${s.getFullYear()}`){if(i.push({id:g,ref:e[2][0]-1-r,name:n.wants[e[2][0]-1-r].track[e[2][e[2][0]-r]-1].name,date:{day:s.getDate(),month:s.getMonth(),year:s.getFullYear()},value:n.wants[e[2][0]-1-r].track[e[2][e[2][0]-r]-1].value,class:"Wants > "+n.wants[e[2][0]-1-r].name,catagory:"Wants>"+n.wants[e[2][0]-1-r].name,num_cat:3}),g=g+1,e[2][e[2][0]-r]=e[2][e[2][0]-r]-1,g>=l*(u[0]+1)){a=!0,u[0]=u[0]+1;break}}else break;if(a)break}else w=!0;if(a==!0)break;if(W!=e[1][0]&&h==!1)for(let r=0;r<=e[1][0]-1;r++)for(;;){if(e[1][e[1][0]-r]<=0){e[1][e[1][0]-r]==0&&(W=W+1,e[1][e[1][0]-r]=-1);break}else if(n.needs[e[1][0]-1-r].track[e[1][e[1][0]-r]-1].date==`${s.getDate()}-${s.getMonth()+1}-${s.getFullYear()}`){if(i.push({id:g,ref:e[1][0]-1-r,name:n.needs[e[1][0]-1-r].track[e[1][e[1][0]-r]-1].name,date:{day:s.getDate(),month:s.getMonth(),year:s.getFullYear()},value:n.needs[e[1][0]-1-r].track[e[1][e[1][0]-r]-1].value,class:"Needs > "+n.needs[e[1][0]-1-r].name,catagory:"Needs>"+n.needs[e[1][0]-1-r].name,num_cat:2}),g=g+1,e[1][e[1][0]-r]=e[1][e[1][0]-r]-1,g>=l*(u[0]+1)){a=!0,u[0]=u[0]+1;break}}else break;if(a)break}else h=!0;if(a==!0)break;if(V!=e[0][0]&&t==!1)for(let r=0;r<=e[0][0]-1;r++)for(;;){if(e[0][e[0][0]-r]<=0){e[0][e[0][0]-r]==0&&(V=V+1,e[0][e[0][0]-r]=-1);break}else if(console.log(`${s.getDate()}-${s.getMonth()+1}-${s.getFullYear()}`),n.required[e[0][0]-1-r].track[e[0][e[0][0]-r]-1].date==`${s.getDate()}-${s.getMonth()+1}-${s.getFullYear()}`){if(i.push({id:g,ref:e[0][0]-1-r,name:n.required[e[0][0]-1-r].name,date:{day:s.getDate(),month:s.getMonth(),year:s.getFullYear()},value:n.required[e[0][0]-1-r].track[e[0][e[0][0]-r]-1].value,class:"Required",catagory:"Required",num_cat:1}),g=g+1,e[0][e[0][0]-r]=e[0][e[0][0]-r]-1,g>=l*(u[0]+1)){a=!0,u[0]=u[0]+1;break}}else break;if(a)break}else t=!0;if(a==!0)break;if(A!=te&&b==!1){for(let r=te-1;r>=0;r--)if(console.log(`${s.getDate()}-${s.getMonth()+1}-${s.getFullYear()}`),n.base[r].init==`${s.getDate()}-${s.getMonth()+1}-${s.getFullYear()}`&&(i.push({id:g,ref:r,name:n.base[r].name,date:{day:s.getDate(),month:s.getMonth(),year:s.getFullYear()},value:n.base[r].value,class:"Base",catagory:"Base",num_cat:0}),g=g+1,A=A+1,g>=l*(u[0]+1))){a=!0,u[0]=u[0]+1;break}}else b=!0;if(s.valueOf()<C){B[0]=!0,console.log("explict break!");break}if(t&&h&&w&&b){B[0]=!0,console.log("out of gas");break}s.setDate(s.getDate()-1)}v.value=v.value+1}function L(l){for(let a=u[1]*l+ee;_.length<(u[1]+1)*l;a++){if(a>n.history.day.length-1){B[1]=!0,console.log("out of gas!!");break}if(n.history.day[n.history.day.length-a-1].spend[0]==0&&n.history.day[n.history.day.length-a-1].spend[4]==0){ee+=1;continue}_.push({day_id:_.length,date:n.history.day[n.history.day.length-a-1].date.split("-"),catagory_spend:n.history.day[n.history.day.length-a-1].spend.slice(1)})}u[1]+=1,v.value=v.value+1}function J(l){let a,t,h=0,w=!1,b=u[2]*l;for(let M=0;p.length<(u[2]+1)*l;M++){let C=[0,0,0,0];if(b+h>=n.history.day.length-1){w||p.push({month_id:p.length,date:n.history.day[0].date.split("-").slice(1),catagory_spend:n.history.day[0].spend.slice(1)}),B[2]=!0,console.log("out of gas!!");break}for(;;){if(C.forEach((r,ne)=>{C[ne]+=n.history.day[n.history.day.length-1-b-h].spend[ne+1]}),b+h>n.history.day.length-2){w=!0;break}if(a=n.history.day[n.history.day.length-1-b-h].date.split("-"),t=n.history.day[n.history.day.length-2-b-h].date.split("-"),h+=1,t[1]!=a[1]||t[2]!=t[2]){w=!1;break}}p.push({month_id:p.length,date:n.history.day[n.history.day.length-b-h].date.split("-").slice(1),catagory_spend:C})}u[2]+=1,v.value=v.value+1}function F(l){let a="â‚¹ ";if(l){const t=l.toString();let h=!1,w=t.length-1;w%2!=0&&(a=a+t.substring(0,1)+",",w-=1,h=!0);for(let b=0;b<w;b+=2)a=a+t.substring(b+h,b+h+2)+",";return a=a.slice(0,a.length-1),a+=t.substring(t.length-1,t.length-0),a}else return a+="0",a}function I(l){if(f.value[l]==1){let a=0;if(f.value.forEach(t=>{t==1&&(a+=1)}),a<=1)return!1;f.value[l]=0}else f.value[l]=1;v.value=v.value+1,U()}function ce(l){m.value=l,v.value=v.value+1,U()}function ge(l){y.value=l,l==1&&i.length==0&&E(15),l==2&&_.length==0&&(m.value<2&&(m.value=2),L(15)),l==3&&p.length==0&&(m.value<3&&(m.value=3),J(15)),v.value=v.value+1,U()}function ae(l){let a="[ ";return f.value[0]==1&&(a+="B: "+F(l[3])+" | "),f.value[1]==1&&(a+="R: "+F(l[0])+" | "),f.value[2]==1&&(a+="N: "+F(l[1])+" | "),f.value[3]==1&&(a+="W: "+F(l[2])+" | "),a=a.slice(0,a.length-2),a+="]",a}function le(l){let a=0;return f.value[0]==1&&(a+=l[3]),f.value[1]==1&&(a+=l[0]),f.value[2]==1&&(a+=l[1]),f.value[3]==1&&(a+=l[2]),a}function ye(l){return v.value!=Z&&(Z=v.value,q=0),f.value[l]&&(q+=1),!!f.value[l]}function U(){k.groupBy_opt=m.value,k.catagory_actv=f.value,k.view_opt=y.value}function he(l){if(l==i.length-1)return!1;if(m.value==1)return!0;let a=l;if(!f.value[i[a].num_cat])return!1;let t=a+1;for(;!f.value[i[t].num_cat];)if(t+=1,t==i.length)return!1;if(m.value==2)return i[a].date.day!=i[t].date.day||i[a].date.month!=i[t].date.month?!0:i[a].date.year!=i[t].date.year;if(m.value==3)return i[a].date.month!=i[t].date.month?!0:i[a].date.year!=i[t].date.year;if(m.value==4)return i[a].date.year!=i[t].date.year}function _e(l){if(l==_.length-1)return!1;if(m.value==2)return!0;if(m.value==3)return _[l].date[1]!=_[l+1].date[1]?!0:_[l].date[2]!=_[l+1].date[2];if(m.value==4)return _[l].date[2]!=_[l+1].date[2]}function pe(l){if(l==p.length-1)return!1;if(m.value==3)return!0;if(m.value==4)return p[l].date[1]!=p[l+1].date[1]}function me(){q<14*u[0]&&B[0]!=!0&&(console.log("RecallingMore"),E(15),u[0]-=1)}function re(l,a,t){let h=new Date(l,a,t);return fe[h.getDay()]}return y.value==1?E(15):y.value==2?L(15):y.value==3&&J(15),(l,a)=>($(),D(j,null,[N(ve,{title:"Spend History"}),c("div",null,[N(o(ue),{justify:"space-around",style:{"font-family":"'roboto-medium'"}},{default:S(()=>[N(o(G),{quaternary:"",type:"primary",round:"",secondary:"",color:o(P)[o(f)[1]],onClick:a[0]||(a[0]=t=>I(1)),size:"small"},{default:S(()=>[T(" Required ")]),_:1},8,["color"]),N(o(G),{quaternary:"",type:"primary",round:"",secondary:"",color:o(P)[o(f)[2]],onClick:a[1]||(a[1]=t=>I(2)),size:"small"},{default:S(()=>[T(" Needs ")]),_:1},8,["color"]),N(o(G),{quaternary:"",type:"primary",round:"",secondary:"",color:o(P)[o(f)[3]],onClick:a[2]||(a[2]=t=>I(3)),size:"small"},{default:S(()=>[T(" Wants ")]),_:1},8,["color"]),N(o(G),{quaternary:"",type:"primary",round:"",secondary:"",color:o(P)[o(f)[0]],onClick:a[3]||(a[3]=t=>I(0)),size:"small"},{default:S(()=>[T(" Base ")]),_:1},8,["color"])]),_:1}),N(o(ue),{justify:"end","align-items":"center"},{default:S(()=>[je,c("div",Te,[N(o(ie),{value:o(y),size:"small","on-update:value":ge,options:[{label:"Per Item",value:1},{label:"Per Day",value:2},{label:"Per Month",value:3}]},null,8,["value"])]),Ge,c("div",Oe,[N(o(ie),{value:o(m),size:"small","on-update:value":ce,options:[{label:"Item",value:1,disabled:o(y)>1},{label:"Day",value:2,disabled:o(y)>2},{label:"Month",value:3,disabled:o(y)>3},{label:"Year",value:4,disabled:o(y)>4}]},null,8,["value","options"])])]),_:1})]),N(o(ze),{style:{"max-height":"46em"},trigger:l.hover,"on-scroll":t=>{t.target.scrollTop>=300+(o(u)[o(y)-1]-1)*860&&!o(B)[o(y)-1]&&(o(y)==1?E(15):o(y)==2?L(15):o(y)==3&&J(15))}},{default:S(()=>[o(i).length>0||o(_).length>0||o(p).length>0?($(),D("div",{key:o(v)},[o(y)==1?($(!0),D(j,{key:0},K(o(i),t=>($(),D("div",{key:t.id,class:we({itm_contain:ye(t.num_cat),itm_contain_emty:!o(f)[t.num_cat]}),onClick:h=>l.$router.push({name:"itemDetails",params:{_name:t.name,_catagory:t.catagory+t.ref}})},[c("div",We,d(o(q)),1),c("div",He,d(t.name),1),c("div",Ae,d(t.class),1),c("div",Le,d(F(t.value)),1),c("div",Je,d(t.date.day)+"-"+d(Y[t.date.month])+"-"+d(t.date.year)+" ("+d(re(t.date.year,t.date.month,t.date.day))+")",1),he(t.id)?($(),Q(o(X),{key:0,id:"ndiv"})):R("",!0)],10,Ve))),128)):R("",!0),o(y)==1&&o(q)==0?($(),D("div",Ue,Qe)):o(y)==2?($(!0),D(j,{key:2},K(o(_),t=>($(),D("div",{key:t.day_id,class:"itm_contain"},[c("div",Xe,d(t.day_id+1),1),c("div",Ze,d(t.date[0])+" "+d(Y[t.date[1]-1]),1),c("div",et,d(ae(t.catagory_spend)),1),c("div",tt,d(F(le(t.catagory_spend))),1),c("div",at,d(t.date[0])+"-"+d(Y[t.date[1]-1])+"-"+d(t.date[2])+" ("+d(re(t.date[2],t.date[1]-1,t.date[0]))+")",1),_e(t.day_id)?($(),Q(o(X),{key:0,id:"ndiv"})):R("",!0)]))),128)):o(y)==3?($(!0),D(j,{key:3},K(o(p),t=>($(),D("div",{key:t.month_id,class:"itm_contain"},[c("div",lt,d(t.month_id+1),1),c("div",rt,d(Y[t.date[0]-1])+" "+d(t.date[1]),1),c("div",nt,d(ae(t.catagory_spend)),1),c("div",ot,d(F(le(t.catagory_spend))),1),pe(t.month_id)?($(),Q(o(X),{key:0,id:"ndiv"})):R("",!0)]))),128)):R("",!0),c("span",st,d(me()),1)])):($(),D("div",it,dt))]),_:1},8,["trigger","on-scroll"])],64))}},vt=$e(ft,[["__scopeId","data-v-61297f92"]]);export{vt as default};
